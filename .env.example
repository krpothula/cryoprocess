# =============================================================================
# CryoProcess - Configuration
# =============================================================================
# This is the ONLY config file needed. Copy to .env and edit:
#   cp .env.example .env
#
# Or run the setup wizard:
#   ./cryoprocess.sh install
#
# Default Admin Login:
#   Email:    admin@example.com
#   Password: admin123
# =============================================================================

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server port
PORT=8001

# Environment (development or production)
NODE_ENV=production

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# MongoDB connection URL
MONGODB_URI=mongodb://localhost:27017/cryoprocess-db

# =============================================================================
# AUTHENTICATION
# =============================================================================

# JWT secret key (auto-generated by ./cryoprocess.sh install)
JWT_SECRET=change-this-to-a-secure-random-string
JWT_EXPIRES_IN=7d

# =============================================================================
# DATA PATHS (Required â€” edit for your system)
# =============================================================================

# Root path where your cryo-EM project data is stored
ROOT_PATH=/path/to/your/data

# Path to RELION Singularity container (.sif file)
RELION_PATH=/path/to/relion.sif

# =============================================================================
# SLURM CLUSTER CONFIGURATION
# =============================================================================

# Default SLURM partition for job submission
SLURM_PARTITION=batch
SLURM_SUBMIT_COMMAND=sbatch

# How often to poll SLURM for job status updates (milliseconds)
SLURM_POLL_INTERVAL=3000

# Default resource allocation
SLURM_NODES=1
SLURM_CPUS_PER_TASK=8
SLURM_GPUS_PER_NODE=1
SLURM_TIME=24:00:00

# =============================================================================
# SSH REMOTE CLUSTER (optional)
# Enable if CryoProcess runs on a different machine than the SLURM cluster.
# Requires a shared filesystem (NFS/Lustre) for ROOT_PATH.
# =============================================================================

# Set to true to execute SLURM commands over SSH
# SLURM_USE_SSH=false

# Hostname or IP of the SLURM login node
# SLURM_SSH_HOST=cluster.example.com

# SSH username (defaults to current system user)
# SLURM_SSH_USER=myuser

# SSH port
# SLURM_SSH_PORT=22

# Path to SSH private key (defaults to ~/.ssh/id_rsa)
# SLURM_SSH_KEY_PATH=~/.ssh/id_rsa

# =============================================================================
# SINGULARITY CONTAINER SETTINGS
# =============================================================================

# Paths to bind into the container (source:destination, comma-separated)
SINGULARITY_BIND_PATHS=/path/to/data:/path/to/data

# Additional Singularity options (--nv enables GPU support)
SINGULARITY_OPTIONS=--nv

# =============================================================================
# EXTERNAL SOFTWARE PATHS (Optional)
# =============================================================================

# CTF estimation
CTFFIND_EXE=
GCTF_EXE=

# Motion correction
MOTIONCOR2_EXE=

# =============================================================================
# OTHER SETTINGS
# =============================================================================

# CORS origin (* allows all, or specify like http://localhost:3000)
CORS_ORIGIN=*

# Logging level (debug, info, warn, error)
LOG_LEVEL=info
