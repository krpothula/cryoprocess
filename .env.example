# =============================================================================
# CryoProcess - Configuration
# =============================================================================
# This is the ONLY config file needed. Copy to .env and edit:
#   cp .env.example .env
#
# Or run the setup wizard:
#   ./cryoprocess.sh install
#
# Default Admin Login:
#   Email:    admin@example.com
#   Password: admin123
# =============================================================================

# =============================================================================
# 1. SERVER
# =============================================================================

# Server port (default: 8001)
PORT=8001

# Environment: "development" or "production"
NODE_ENV=production

# CORS origin (* allows all, or specify like http://localhost:3000)
CORS_ORIGIN=*

# Logging level: debug, info, warn, error
LOG_LEVEL=info

# =============================================================================
# 2. DATABASE
# =============================================================================

# MongoDB connection URL
MONGODB_URI=mongodb://localhost:27017/cryoprocess-db

# =============================================================================
# 3. AUTHENTICATION
# =============================================================================

# JWT secret key (auto-generated by ./cryoprocess.sh install)
# Generate manually: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=change-this-to-a-secure-random-string
JWT_EXPIRES_IN=7d

# =============================================================================
# 4. DATA PATH (Required â€” edit for your system)
# =============================================================================

# Root path where your cryo-EM project data is stored
ROOT_PATH=/path/to/your/data

# Archive / cold storage path (optional)
# Move completed projects to cheaper storage (e.g., S3 mounted via blobfuse).
# Leave unset or empty to disable archive/restore features.
# ARCHIVE_PATH=/mnt/archive/projects

# =============================================================================
# 5. SLURM CLUSTER
# =============================================================================

# Default SLURM partition for job submission
SLURM_PARTITION=batch
SLURM_SUBMIT_COMMAND=sbatch

# How often to poll SLURM for job status updates (milliseconds)
SLURM_POLL_INTERVAL=3000

# =============================================================================
# 6. SSH REMOTE CLUSTER (Optional)
# Enable if CryoProcess runs on a different machine than the SLURM cluster.
# Requires a shared filesystem (NFS/Lustre) for ROOT_PATH.
# =============================================================================

# Set to true to execute SLURM commands over SSH
# SLURM_USE_SSH=false

# Hostname or IP of the SLURM login node
# SLURM_SSH_HOST=cluster.example.com

# SSH username (defaults to current system user)
# SLURM_SSH_USER=myuser

# SSH port
# SLURM_SSH_PORT=22

# Path to SSH private key (defaults to ~/.ssh/id_rsa)
# SLURM_SSH_KEY_PATH=~/.ssh/id_rsa

# =============================================================================
# 7. SOFTWARE & CONTAINER
# =============================================================================

# RELION Singularity container (.sif file)
RELION_PATH=/path/to/relion.sif

# Paths to bind into the container (source:destination, comma-separated)
SINGULARITY_BIND_PATHS=/path/to/data:/path/to/data

# Additional Singularity options (--nv enables GPU support)
SINGULARITY_OPTIONS=--nv

# CTF estimation
CTFFIND_EXE=
GCTF_EXE=

# Motion correction
MOTIONCOR2_EXE=

# Model building
MODELANGELO_EXE=

# =============================================================================
# 8. EMAIL NOTIFICATIONS (Optional)
# Send email when a job completes or fails. Users toggle per-job via the
# bell icon in Job Actions. Requires an SMTP server.
#
# Examples:
#   University mail:  SMTP_HOST=smtp.youruni.edu
#   Gmail:            SMTP_HOST=smtp.gmail.com  SMTP_PORT=465  SMTP_SECURE=true
#   Local MailHog:    SMTP_HOST=localhost        SMTP_PORT=1025
# =============================================================================

# Set to true to enable email notifications
# EMAIL_NOTIFICATIONS_ENABLED=false

# SMTP server hostname
# SMTP_HOST=smtp.youruni.edu

# SMTP port (587 = STARTTLS, 465 = SSL/TLS, 1025 = MailHog)
# SMTP_PORT=587

# Use SSL/TLS (true for port 465, false for port 587 which uses STARTTLS)
# SMTP_SECURE=false

# SMTP credentials (your email login)
# SMTP_USER=your-email@youruni.edu
# SMTP_PASS=your-password

# "From" address shown in notification emails
# Can be your own email or a shared no-reply address if your server allows it
# SMTP_FROM=CryoProcess <your-email@youruni.edu>
